<!DOCTYPE html>
<html>
<title>Let Me Do That For You</title>
<script language="Javascript" type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
<link rel="stylesheet" href="css/bootstrap-responsive.min.css">
<style type="text/css">
  .container{
    width: 100%;
  }
  .iframes {
    height:600px;
    width:100%;
  }
  .iframe {
    width: 49%;
    height: 100%;
    border: 0;
  }
</style>
<script type="text/javascript">
  $(document).keyup(function(e) {
    if (e.keyCode==13) {
      bothButton();  
      e.stopPropagation();
    }
  });

  function getInfo() {
   var searchText = document.getElementById("inputtext").value;
   var splitText = searchText.split(",");
   return splitText;
  }

  function googleButton() {
   var splitText = getInfo();
   var contentQuery = splitText[0];
   var locationQuery = splitText[1];
   if (document.getElementById("maps").checked) {
     maps(contentQuery, locationQuery);
   } else {
     google(contentQuery, locationQuery);  
   }
  }

  function yelpButton() {
   var splitText = getInfo();
   var contentQuery = splitText[0];
   var locationQuery = splitText[1];
   yelp(contentQuery, locationQuery);
  }

  function bothButton() {
   var splitText = getInfo();
   var contentQuery = splitText[0];
   var locationQuery = splitText[1];
   if (document.getElementById("maps").checked) {
     maps(contentQuery, locationQuery);
   } else {
     google(contentQuery, locationQuery);  
   }
   yelp(contentQuery, locationQuery);
  }

  function google(content, location) {
    var url = "http://www.google.com/custom?q=" + content + location;
    reloadIframe("googleIframe", url);
  }

  function maps(content, location) {
   var url = "https://www.google.com/maps/embed/v1/place?key=AIzaSyBM8e2wAZ_UOVMJQ00N0zl7Mhbz7sgeABI&q=" + content + location;
   reloadIframe("googleIframe", url);
  }

  function yelp(content, location) {
   var url = "http://www.yelp.com/search?find_desc="+ content+"&find_loc=" + location;
   reloadIframe("yelpIframe", url);
  }

  function reloadIframe(id, url) {
   document.getElementById(id).src = url;
  }
</script>
<body>
  <div class="container">
    <center>
      <div>
        Paste content query and location query below, separated by a comma.
      </div>
      <div>
        <textarea rows="2" cols="100" id="inputtext"></textarea>
      </div>
      <input type="submit" id="googleButton" value="Google" onclick="googleButton()">
      <input type="checkbox" id="maps">Use Google Maps?
      <input type="submit" id="yelpButton" value="Yelp" onclick="yelpButton()">
      <div>
      <input type="submit" id="bothButton" value="Both" onclick="bothButton()">
    </div>
    </center>
    <div class="iframes">
      <iframe src=""id="googleIframe" frameborder="0" class="iframe"></iframe>
      <iframe src="" id="yelpIframe" class="iframe"></iframe>
    </div>
  </div>
</body>
</html>