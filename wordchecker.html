<!DOCTYPE html>
<html>
<title>Repeated Word Checker</title>
<script type="text/javascript">
    function checkWords() {
        var testText = document.getElementById("textToTest").value;
        var result = testText.split(" ");
        var dictionary = {};
        var printOkay = true;
        for (var i = 0; i < result.length; i++) {
            var processedWord = result[i].toLowerCase();
            processedWord = processedWord.replace(/[^a-z]/g, '')
            if (processedWord == "") {
                continue;
            }
            if (processedWord in dictionary) {
                var newIndex = i+1
                var alertString = "The first repeat found was at word number "+ newIndex + ", "+ result[i] + ".";
                alert(alertString);
                printOkay = false;
                break;
            } else {
               dictionary[processedWord] = true
            }
        };
        if (printOkay) {
            alert("No repeats found!")
        }
    }
    function checkAllWords() {
        var testText = document.getElementById("textToTest").value;
        var result = testText.split(" ");
        var checkingDictionary = {};
        var storingDictionary = {};
        for (var i = 0; i < result.length; i++) {
            var processedWord = result[i].toLowerCase();
            processedWord = processedWord.replace(/[^a-z]/g, '');
            if (processedWord == "") {
                continue;
            }
            if (processedWord in checkingDictionary) {
                var newIndex = i+1;
                storingDictionary[i] = [newIndex, result[i]];
            } else {
               checkingDictionary[processedWord] = true
            }
        };
        var count = 0
        var printString = "Found repeats at:\n"
        for (var key in storingDictionary) {
            count++;
           printString = printString + "word number "+ storingDictionary[key][0] + ", " + storingDictionary[key][1] + "\n";
        };
        if (count == 0) {
            printString = "No repeats found!";
        }
        alert(printString);
    }

    function findO() {
        var testText = document.getElementById("textToTest").value;
        var result = testText.split(" ");
        var printString = "Found 'o' at: \n";
        for (var i = 0; i < result.length; i++) {
            var word = result[i]
            for (var j = 0; j < word.length; j++) {
                var wordAdded = false;
                if ((word[j] == 'o' | word[j] == 'O') && !wordAdded)  {
                    printString += word;
                    wordAdded = true;
                }
            };
            
        };
        alert(printString);
    }
</script>
<body>
    <textarea rows="4" cols="50" id = "textToTest">Paste Text Here.</textarea>
    <br>
    <input type = "submit" id = "submitButton" value = "Gives the First Repeated Word" onclick = "checkWords()">
    <input type = "submit" id = "findAllButton" value = "Gives All Repeated Words" onclick = "checkAllWords()">
    <input type = "submit" id = "findAllButton" value = "Finds 'O's" onclick = "findO()">
</body>
</html>